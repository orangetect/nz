<script>
  const openAIAPIKey = 'YOUR_OPENAI_API_KEY'; // GPT-3 API 密钥

  function fetchAIResponse(question) {
    const prompt = `Answer the following question: ${question}`;
    const url = 'https://api.openai.com/v1/completions';
    const headers = {
      "Content-Type": "application/json",
      "Authorization": `Bearer ${openAIAPIKey}`
    };
    const body = JSON.stringify({
      model: "text-davinci-003",
      prompt: prompt,
      max_tokens: 150
    });

    fetch(url, { method: "POST", headers, body })
      .then(response => response.json())
      .then(data => {
        const answer = data.choices[0].text.trim();
        write(`AI回答：${answer}`);
      })
      .catch(error => write("AI 出现问题，请稍后再试"));
  }

  function run(c) {
    switch (c) {
      case "ask":
        write("请输入问题...");
        setTimeout(() => {
          const question = prompt("请输入问题：", "AI 是什么？");
          if (question) {
            fetchAIResponse(question);
          }
        }, 500);
        break;
      // 其他命令...
      default:
        write("未知命令");
    }
  }
</script>
